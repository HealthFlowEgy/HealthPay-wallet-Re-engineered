<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช - ุจูุงุจุฉ ุงูุชุงุฌุฑ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        .spinner { border: 3px solid #f3f3f3; border-top: 3px solid #f59e0b; border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; display: inline-block; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        /* Toggle Switch */
        .toggle-switch { position: relative; width: 52px; height: 28px; }
        .toggle-switch input { opacity: 0; width: 0; height: 0; }
        .toggle-slider { position: absolute; cursor: pointer; inset: 0; background-color: #e5e7eb; transition: 0.3s; border-radius: 28px; }
        .toggle-slider:before { position: absolute; content: ""; height: 22px; width: 22px; right: 3px; bottom: 3px; background-color: white; transition: 0.3s; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
        input:checked + .toggle-slider { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        input:checked + .toggle-slider:before { transform: translateX(-24px); }
        
        .notification-card { transition: all 0.2s; }
        .notification-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">

<!-- Main Content -->
<div id="main">
    <!-- Header -->
    <header class="bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg">
        <div class="max-w-4xl mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <a href="/merchant/dashboard.html" class="text-white hover:text-amber-200 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                        </svg>
                    </a>
                    <div>
                        <h1 class="text-2xl font-bold">๐ ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช</h1>
                        <p class="text-amber-100 text-sm">ุชุฎุตูุต ุชูุถููุงุช ุงูุฅุดุนุงุฑุงุช</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-4 py-8">
        <!-- Alert Messages -->
        <div id="successAlert" class="hidden bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-xl mb-6 flex items-center gap-3">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>ุชู ุญูุธ ุงูุฅุนุฏุงุฏุงุช ุจูุฌุงุญ</span>
        </div>

        <!-- Master Toggle -->
        <div class="bg-gradient-to-r from-amber-500 to-orange-500 rounded-2xl shadow-lg p-6 mb-6 text-white">
            <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                    <div class="w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center">
                        <span class="text-3xl">๐</span>
                    </div>
                    <div>
                        <h2 class="text-xl font-bold">ุชูุนูู ุฌููุน ุงูุฅุดุนุงุฑุงุช</h2>
                        <p class="text-amber-100">ุงูุชุญูู ูู ุงุณุชูุจุงู ุฌููุน ุงูุฅุดุนุงุฑุงุช</p>
                    </div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="masterToggle" checked onchange="toggleMaster()">
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>

        <!-- Notification Channels -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden mb-6">
            <div class="px-6 py-4 bg-gray-50 border-b">
                <h2 class="text-lg font-bold text-gray-800">๐ก ูููุงุช ุงูุฅุดุนุงุฑุงุช</h2>
                <p class="text-gray-600 text-sm">ุงุฎุชุฑ ุทุฑููุฉ ุงุณุชูุงู ุงูุฅุดุนุงุฑุงุช</p>
            </div>

            <div class="p-6 space-y-4">
                <!-- Push Notifications -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐ฑ</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุฅุดุนุงุฑุงุช ุงููุงุชู</h3>
                            <p class="text-gray-500 text-sm">ุงุณุชูุงู ุฅุดุนุงุฑุงุช ููุฑูุฉ ุนูู ูุงุชูู</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="channel-toggle" data-channel="push" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Email -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐ง</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</h3>
                            <p class="text-gray-500 text-sm">ุงุณุชูุงู ููุฎุตุงุช ูุฑุณุงุฆู ูููุฉ</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="channel-toggle" data-channel="email" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- SMS -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐ฌ</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุงูุฑุณุงุฆู ุงููุตูุฉ SMS</h3>
                            <p class="text-gray-500 text-sm">ููุชูุจููุงุช ุงูุฃูููุฉ ูุงููููุฉ</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="channel-toggle" data-channel="sms">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Transaction Notifications -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden mb-6">
            <div class="px-6 py-4 bg-gray-50 border-b">
                <h2 class="text-lg font-bold text-gray-800">๐ฐ ุฅุดุนุงุฑุงุช ุงููุนุงููุงุช</h2>
                <p class="text-gray-600 text-sm">ุชูุจููุงุช ุญูู ุงููุฏููุนุงุช ูุงูุชุญูููุงุช</p>
            </div>

            <div class="p-6 space-y-4">
                <!-- Payment Received -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐ต</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุงุณุชูุงู ูุฏููุนุงุช</h3>
                            <p class="text-gray-500 text-sm">ุนูุฏ ุงุณุชูุงู ุฃู ูุฏููุนุงุช ูู ุงูุนููุงุก</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="payment_received" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Large Transaction -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">โ๏ธ</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ูุนุงููุงุช ูุจูุฑุฉ</h3>
                            <p class="text-gray-500 text-sm">ุชูุจูู ุนูุฏ ุชุฌุงูุฒ ุงููุนุงููุฉ ุญุฏ ูุนูู</p>
                            <div class="mt-2">
                                <label class="text-xs text-gray-500">ุงูุญุฏ ุงูุฃุฏูู ููุชูุจูู:</label>
                                <input type="number" id="largeAmountThreshold" value="1000" min="100" 
                                    class="w-24 px-2 py-1 border rounded text-sm mr-2">
                                <span class="text-xs text-gray-500">ุฌ.ู</span>
                            </div>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="large_transaction" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Refund -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">โฉ๏ธ</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุงููุฑุชุฌุนุงุช</h3>
                            <p class="text-gray-500 text-sm">ุนูุฏ ุฅุชูุงู ุนูููุฉ ุงุณุชุฑุฏุงุฏ ุฃููุงู</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="refund" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Daily Summary -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุงูููุฎุต ุงููููู</h3>
                            <p class="text-gray-500 text-sm">ุชูุฑูุฑ ูููู ุจุงููุจูุนุงุช ูุงูุฃุฑุจุงุญ</p>
                            <div class="mt-2">
                                <label class="text-xs text-gray-500">ููุช ุงูุฅุฑุณุงู:</label>
                                <input type="time" id="dailySummaryTime" value="18:00" 
                                    class="px-2 py-1 border rounded text-sm mr-2">
                            </div>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="daily_summary" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Security Notifications -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden mb-6">
            <div class="px-6 py-4 bg-gray-50 border-b">
                <h2 class="text-lg font-bold text-gray-800">๐ ุฅุดุนุงุฑุงุช ุงูุฃูุงู</h2>
                <p class="text-gray-600 text-sm">ุชูุจููุงุช ุฃูููุฉ ูููุฉ (ููุตุญ ุจุฅุจูุงุฆูุง ููุนูุฉ)</p>
            </div>

            <div class="p-6 space-y-4">
                <!-- Login Alerts -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุชุณุฌูู ุงูุฏุฎูู</h3>
                            <p class="text-gray-500 text-sm">ุชูุจูู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ูู ุฌูุงุฒ ุฌุฏูุฏ</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="login_alert" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Password Change -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</h3>
                            <p class="text-gray-500 text-sm">ุชูุจูู ุนูุฏ ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="password_change" checked disabled>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Suspicious Activity -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐จ</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ูุดุงุท ูุดุจูู</h3>
                            <p class="text-gray-500 text-sm">ุชูุจูู ุนูุฏ ุงูุชุดุงู ุฃู ูุดุงุท ุบูุฑ ุนุงุฏู</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="suspicious_activity" checked disabled>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Business Notifications -->
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden mb-6">
            <div class="px-6 py-4 bg-gray-50 border-b">
                <h2 class="text-lg font-bold text-gray-800">๐ ุฅุดุนุงุฑุงุช ุงูุฃุนูุงู</h2>
                <p class="text-gray-600 text-sm">ุชุญุฏูุซุงุช ุญูู ุญุณุงุจู ูุฃุนูุงูู</p>
            </div>

            <div class="p-6 space-y-4">
                <!-- Cashout Processed -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐ฆ</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ูุนุงูุฌุฉ ุงูุณุญุจ</h3>
                            <p class="text-gray-500 text-sm">ุนูุฏ ุงูุชูุงู ุทูุจ ุณุญุจ ุงูุฃุฑุจุงุญ</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="cashout_processed" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- New Customer -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐ค</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุนููู ุฌุฏูุฏ</h3>
                            <p class="text-gray-500 text-sm">ุนูุฏ ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ ููุงุฆูุชู</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="new_customer">
                        <span class="toggle-slider"></span>
                    </label>
                </div>

                <!-- Promotional -->
                <div class="notification-card flex items-center justify-between p-4 bg-gray-50 rounded-xl">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center">
                            <span class="text-2xl">๐</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-gray-800">ุงูุนุฑูุถ ูุงูุชุญุฏูุซุงุช</h3>
                            <p class="text-gray-500 text-sm">ุฃุฎุจุงุฑ HealthPay ูุงูุนุฑูุถ ุงูุฎุงุตุฉ</p>
                        </div>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" class="notification-toggle" data-type="promotional">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
            </div>
        </div>

        <!-- Save Button -->
        <button onclick="saveSettings()" id="saveBtn" 
            class="w-full bg-gradient-to-r from-amber-500 to-orange-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
            <span id="saveBtnText">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</span>
        </button>
    </main>
</div>

<script>
// State
let settings = {
    master: true,
    channels: {
        push: true,
        email: true,
        sms: false
    },
    notifications: {
        payment_received: true,
        large_transaction: true,
        refund: true,
        daily_summary: true,
        login_alert: true,
        password_change: true,
        suspicious_activity: true,
        cashout_processed: true,
        new_customer: false,
        promotional: false
    },
    largeAmountThreshold: 1000,
    dailySummaryTime: '18:00'
};

// Load settings
function loadSettings() {
    const saved = localStorage.getItem('merchant_notification_settings');
    if (saved) {
        settings = JSON.parse(saved);
        applySettingsToUI();
    }
}

// Apply settings to UI
function applySettingsToUI() {
    document.getElementById('masterToggle').checked = settings.master;
    document.getElementById('largeAmountThreshold').value = settings.largeAmountThreshold;
    document.getElementById('dailySummaryTime').value = settings.dailySummaryTime;
    
    document.querySelectorAll('.channel-toggle').forEach(toggle => {
        toggle.checked = settings.channels[toggle.dataset.channel];
    });
    
    document.querySelectorAll('.notification-toggle').forEach(toggle => {
        if (!toggle.disabled) {
            toggle.checked = settings.notifications[toggle.dataset.type];
        }
    });
    
    updateUIState();
}

// Toggle master
function toggleMaster() {
    settings.master = document.getElementById('masterToggle').checked;
    updateUIState();
}

// Update UI state based on master toggle
function updateUIState() {
    const disabled = !settings.master;
    
    document.querySelectorAll('.channel-toggle').forEach(toggle => {
        toggle.disabled = disabled;
        toggle.closest('.notification-card').classList.toggle('opacity-50', disabled);
    });
    
    document.querySelectorAll('.notification-toggle').forEach(toggle => {
        if (!toggle.dataset.required) {
            toggle.disabled = disabled;
            toggle.closest('.notification-card').classList.toggle('opacity-50', disabled);
        }
    });
}

// Save settings
async function saveSettings() {
    const btn = document.getElementById('saveBtn');
    const btnText = document.getElementById('saveBtnText');
    btn.disabled = true;
    btnText.innerHTML = '<span class="spinner"></span> ุฌุงุฑู ุงูุญูุธ...';
    
    // Gather settings
    document.querySelectorAll('.channel-toggle').forEach(toggle => {
        settings.channels[toggle.dataset.channel] = toggle.checked;
    });
    
    document.querySelectorAll('.notification-toggle').forEach(toggle => {
        settings.notifications[toggle.dataset.type] = toggle.checked;
    });
    
    settings.largeAmountThreshold = parseInt(document.getElementById('largeAmountThreshold').value) || 1000;
    settings.dailySummaryTime = document.getElementById('dailySummaryTime').value;
    
    // In production, send to API
    // await fetch('/api/merchant/notification-settings', {
    //     method: 'POST',
    //     headers: { 'Content-Type': 'application/json' },
    //     body: JSON.stringify(settings)
    // });
    
    // Save locally
    localStorage.setItem('merchant_notification_settings', JSON.stringify(settings));
    
    // Simulate API delay
    await new Promise(resolve => setTimeout(resolve, 1000));
    
    btn.disabled = false;
    btnText.innerHTML = '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> ุญูุธ ุงูุฅุนุฏุงุฏุงุช';
    
    document.getElementById('successAlert').classList.remove('hidden');
    setTimeout(() => document.getElementById('successAlert').classList.add('hidden'), 3000);
}

// Initialize
loadSettings();
</script>

</body>
</html>
