# API Gateway Configuration

# Service
NODE_ENV=development
PORT=8000
SERVICE_NAME=api-gateway

# Kong Gateway
KONG_ADMIN_URL=http://localhost:8001
KONG_PROXY_URL=http://localhost:8000
KONG_DATABASE=postgres
KONG_PG_HOST=localhost
KONG_PG_PORT=5432
KONG_PG_DATABASE=kong
KONG_PG_USER=kong
KONG_PG_PASSWORD=kong_secret

# Backend Services
COMMAND_SERVICE_URL=http://localhost:3000
QUERY_SERVICE_URL=http://localhost:4000

# WebSocket
WS_PORT=8080
WS_PATH=/ws
WS_HEARTBEAT_INTERVAL=30000

# Redis (for rate limiting & caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Circuit Breaker
CIRCUIT_BREAKER_TIMEOUT=5000
CIRCUIT_BREAKER_ERROR_THRESHOLD=50
CIRCUIT_BREAKER_RESET_TIMEOUT=30000

# API Versioning
API_VERSION_HEADER=X-API-Version
DEFAULT_API_VERSION=v1
SUPPORTED_VERSIONS=v1,v2

# CORS
CORS_ORIGIN=*
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-API-Version

# Security
HELMET_ENABLED=true
API_KEY_HEADER=X-API-Key

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9091
METRICS_PATH=/metrics

# Health Check
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000
